这个破oracle，经常出现连接数据库问题，不管远程还是本地。

<!--more-->

绝大多数的问题都是监听器的原因，那么来记录一下怎么调整监听器，以后可能还会用到。

安装目录可能是D:\app\Administrator\product\11.2.0\dbhome_1\NETWORK\ADMIN\下

LISTENER.ORA文件中  #代表注释  我竟然发现所有的配置都注册掉了，惊了

```ora
# listener.ora Network Configuration File: E:\oracle\product\10.2.0\db_1\network\admin\listener.ora

# Generated by Oracle configuration tools.


#SID_LIST_LISTENER =

#  (SID_LIST =

#    (SID_DESC =

#      (SID_NAME = PLSExtProc)

#      (ORACLE_HOME = E:\oracle\product\10.2.0\db_1)

#      (PROGRAM = extproc)

#    )

#  )


#LISTENER =

#  (DESCRIPTION_LIST =

#    (DESCRIPTION =

#      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))

#      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))

#    )

# )
```

修改后

```ora
# listener.ora Network Configuration File: E:\oracle\product\10.2.0\db_1\network\admin\listener.ora
# Generated by Oracle configuration tools.

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (GLOBAL_DBNAME = ORCL)
      (ORACLE_HOME = E:\oracle\product\10.2.0\db_1)
      (SID_NAME = ORCL)
    )
  )


LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
    )

```

对比之后就能发现，系统生成的SID_NAME只是一个临时的别名，安装后首次使用没问题，重新启动服务，临时别名也可能发生改变，就无法识别了。

因此，我们有必要把系统临时生成的别名改成我们数据库实例名ORCL。

另外下面的ADDRESS也有同样的问题，需要自己做下修改。

